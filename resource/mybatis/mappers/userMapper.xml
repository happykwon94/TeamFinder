<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.multi.teamfinder.dao.UserMapper">

	<resultMap type="kr.co.multi.teamfinder.dto.User" id="user_resultMap">
		<result column="user_index" property="user_index"/>
		<result column="user_pwd" property="user_pwd"/>
		<result column="region" property="region"/>
		<result column="user_image" property="user_image"/>
		<result column="user_stack" property="user_stack"/>
		<result column="user_email" property="user_email"/>
		<result column="user_id" property="user_id"/>	
	</resultMap>
	
	<insert id="addUser" parameterType="kr.co.multi.teamfinder.dto.User">
		insert into users(user_index, user_pwd, region, user_image, user_stack, user_email, user_id) 
		values(USER_SEQ.NEXTVAL ,#{user_pwd},#{region}, '0', '0', #{user_email}, #{user_id})
	</insert>
	
	<select id="login" resultType="kr.co.multi.teamfinder.dto.User" resultMap="user_resultMap">
		select user_index, user_pwd, region, user_image, user_stack, user_email, user_id from users where user_id = #{user_id} and user_Pwd = #{user_pwd}
	</select>
	
	<select id="idCheck" resultType="int">
		select count(*) from users where user_id = #{member_id}
	</select>
	
</mapper>